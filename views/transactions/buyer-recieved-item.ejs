<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <link rel='stylesheet' href='style.css' />
  <title>
    <%= title %>
  </title>
</head>
<style>
  /*<!--move styling to CSS
  -->*/
  body
  {
  font-family:
  "Lato",
  sans-serif;
  }
  .sidenav
  {
  height:
  100%;
  width:
  0;
  position:
  fixed;
  z-index:
  1;
  top:
  0;
  left:
  0;
  background-color:
  #111;
  overflow-x:
  hidden;
  transition:
  0.5s;
  padding-top:
  60px;
  }
  .sidenav
  a
  {
  padding:
  8px
  8px
  8px
  32px;
  text-decoration:
  none;
  font-size:
  25px;
  color:
  #818181;
  display:
  block;
  transition:
  0.3s;
  }
  .sidenav
  a:hover
  {
  color:
  #f1f1f1;
  }
  .sidenav
  .closebtn
  {
  position:
  absolute;
  top:
  0;
  right:
  25px;
  font-size:
  36px;
  margin-left:
  50px;
  }
  @media
  screen
  and
  (max-height:
  450px)
  {
  .sidenav
  {
    padding-top:
  15px;
  }
  .sidenav
  a
  {
    font-size:
  18px;
  }
  }
</style>

<body>
  <!--NAVBAR-->
  <%- include ../partials/nav.ejs %>
  <%- include ../partials/header.ejs %>
    <div class="form wrapper">
      <form name="Form" action="" method="get">
        <%- include ../partials/burger-right.ejs %>
          <div class="container my-5">
            <h1>
              <%= title %>
            </h1>
            <h4><%= struct.EscrowContract %></h4>
            <p><%= struct.description %></p>
          </div>
      </form>
    </div>
          <!--  GAP
-->
          <div class="wrapper">
            <form action="/trans/<%= contractAddress %>/set-seller" method="POST"> <!--need the path explained -->
              <input name="ethAddress" type="hidden" />
              <script>
                /*

                https://docs.metamask.io/guide/ethereum-provider.html#methods
                https://docs.metamask.io/guide/rpc-api.html#ethereum-json-rpc-methods
                https://eth.wiki/json-rpc/API#eth_accounts

                */

                (async ()=>{
                  if (typeof window.ethereum === 'undefined') {
                    return console.log('MetaMask is not installed!');
                  }

                  let accounts = await ethereum.request({ method: 'eth_accounts' });
                  console.log(accounts);
                  var inputNode = document.querySelector("input[name=ethAddress]")
                  inputNode.value = accounts[0];
                })()
              </script>
              <fieldset class="row mb-3">
                <div class="col-sm-10">
                  <div class="row mb-3">
                    <div class="col-sm-10 offset-sm-2">
                    </div><br>
                    <div class="input-group mb-3">
                      <div class="input-group-prepend">
                        <span class="input-group-text">â‚¬</span>
                      </div>
                      <div>
                          <h3><%= price %></h3>
                      </div>
                    </div>
                  </div>
                  <div>
                    <button type="submit" class="btn btn-primary">submit</button>
                  </div>
            </form>
          </div>
         <div>
          <%- include ../partials/footer.ejs %>
         </div>
</body>


<script>
  function openNav() {
    document.getElementById("mySidenav").style.width = "250px";
  }

  function closeNav() {
    document.getElementById("mySidenav").style.width = "0";
  }
</script>
</body>

</html>