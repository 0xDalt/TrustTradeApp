<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <link rel='stylesheet' href='/stylesheets/style.css' />
  <link rel='stylesheet' href='/stylesheets/darkmode.css' />
</head>
<style>
  /*--move styling to CSS
  -->*/
  body {
    font-family:
      "Lato",
      sans-serif;
  }

  .sidenav {
    height:
      100%;
    width:
      0;
    position:
      fixed;
    z-index:
      1;
    top:
      0;
    left:
      0;
    background-color:
      #111;
    overflow-x:
      hidden;
    transition:
      0.5s;
    padding-top:
      60px;
  }

  .sidenav a {
    padding:
      8px 8px 8px 32px;
    text-decoration:
      none;
    font-size:
      25px;
    color:
      #818181;
    display:
      block;
    transition:
      0.3s;
  }

  .sidenav a:hover {
    color:
      #f1f1f1;
  }

  .sidenav .closebtn {
    position:
      absolute;
    top:
      0;
    right:
      25px;
    font-size:
      36px;
    margin-left:
      50px;
  }

  @media screen and (max-height: 450px) {
    .sidenav {
      padding-top:
        15px;
    }

    .sidenav a {
      font-size:
        18px;
    }
  }
</style>

  <body>
    <div class="page-container">
      <%- include ./partials/nav.ejs %>
      <%- include ./partials/header.ejs %>
    </div>
 
      <div class="wrapper">
        <form id="myForm" name="Form" action="" method="get">
          <h1>
            <%= title %>
          </h1>
          <div class="join-form">
            <p class="body-2 font-weight-medium mb-5">
              Please enter the code you received from the person you are transacting with.
            </p>
            <label aria-hidden="true" class="form-label" style="width: 70%;">Alphanumeric code</label><br>
            <input id="contractAddress" type="text" name="name" class="field" required />
          </div><br>
          <div>
            <button type="submit" class="btn btn-primary">Confirm</button>
          </div>
        </form>
      </div>
      <script type="text/javascript">
        (function () {
          const form = document.querySelector("#myForm");
          const input = document.querySelector("#contractAddress");
          form.addEventListener("submit", (e) => {
            e.preventDefault();
            console.log("window:", window.location)
            window.location = "/trans/" + input.value
          })

        })()
      </script>

      
      <script>
        function openNav() {
          document.getElementById("mySidenav").style.width = "250px";
        }

        function closeNav() {
          document.getElementById("mySidenav").style.width = "0";
        }
      </script>
       <script> //dark-mode
        const toggleSwitch = document.querySelector('.theme-switch input[type="checkbox"]');
      const currentTheme = localStorage.getItem('theme');
      
      if (currentTheme) {
          document.documentElement.setAttribute('data-theme', currentTheme);
        
          if (currentTheme === 'dark') {
              toggleSwitch.checked = true;
          }
      }
      
      function switchTheme(e) {
          if (e.target.checked) {
              document.documentElement.setAttribute('data-theme', 'dark');
              localStorage.setItem('theme', 'dark');
          }
          else {        document.documentElement.setAttribute('data-theme', 'light');
                localStorage.setItem('theme', 'light');
          }    
      }
      
      toggleSwitch.addEventListener('change', switchTheme, false);
      </script>
  </body>
</html>